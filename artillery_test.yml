config:
  target: 'http://54.199.227.242:3000'
  phases:
    - duration: 30
      arrivalRate: 200
  payload:
    -
      path: "testUserId.csv"
      skipHeader: true
      fields:
        - "userId"
  defaults:
    headers:
scenarios:
  - name: "get User Post"
    flow:
      - get:
          url: "/getUser/{{ userId }}"
      - get:
          url: "/getUserPosts/{{ userId }}"
          capture:
            json: "$.data[0].id"
            as: "postId"
      - get:
          url: "/getPostComments/{{ postId }}"